Get-ChildItem -Recurse -File -Force |
>>   Where-Object { $_.FullName -notmatch '\\(node_modules|\.git|\.next|dist|build|\.idea|\.vscode)\\' } |
>>   ForEach-Object { Resolve-Path -Relative $_.FullName } |
>>   ForEach-Object { $_ -replace '^\.\[\\/]', '' } |
>>   Set-Content -Encoding UTF8 estructura-limpia.txt


.env
.gitignore
.\FIX_TICKET_IDEMPOTENCY.md
.\IMPLEMENTATION_SUMMARY.md
.\LICENSE
.\package-lock.json
.\package.json
.\README.md
.\server.js
.vercel\project.json
.vercel\README.txt
.\api\actualizar-webhook.js
.\api\escuchar-cambios.js
.\api\update-billing.js
.\data\cron-state-deals.json
.\data\cron-state-deals.lock
.\data\cron_failed_deals.json
.\data\cron_state_deals.json
.\data\logs\cron_deals_2026-02-19.log.jsonl
.\data\logs\cron_deals_2026-02-20.log.jsonl
.\data\logs\cron_deals_2026-02-22.log.jsonl
.\docs\_archive\billing-flow.md
.\docs\_archive\FLOW_DIAGRAM.md
.\docs\_archive\HUBSPOT_PROPERTIES_CHECKLIST.md
.\docs\_archive\INVOICE_CREATION_PATHS.md
.\docs\_archive\MIGRATION_GUIDE.md
.\docs\_archive\REFACTOR_DOCUMENTATION.md
.\lib\logger.js
.\logs\app.log
.\logs\error.log
.\logs\warn.log
.\migrate\.env.example
.\migrate\config.js
.\migrate\httpClient.js
.\migrate\index.js
.\migrate\package.json
.\migrate\pipelines.js
.\migrate\properties.js
.\migrate\README.md
.\migrate\workflows.js
.\public\favicon.ico
.\public\favicon.png
.\src\associations.js
.\src\billingEngine.js
.\src\cupo.js
.\src\dealMirroring.js
.\src\hubspotClient.js
.\src\invoices.js
.\src\normalizeBillingStartDelay.js
.\src\runBilling.js
.\src\api\facturar-ahora.js
.\src\config\constants.js
.\src\config\propertyMapping.js
.\src\jobs\cronDealsBatch.js
.\src\phases\index.js
.\src\phases\phase1.js
.\src\phases\phase2.js
.\src\phases\phase3.js
.\src\phases\phasep.js
.\src\propagacion\deals\cancelDeal.js
.\src\propagacion\tickets\cancelForecastTickets.js
.\src\services\invoiceService.js
.\src\services\mirrorLineItemsUyUpsert.js
.\src\services\snapshotService.js
.\src\services\urgentBillingService.js
.\src\services\alerts\cupoAlert.js
.\src\services\billing\mode.js
.\src\services\billing\recalcFacturasRestantes.js
.\src\services\billing\syncBillingState.js
.\src\services\cupo\consumeCupo.js
.\src\services\cupo\cupoUtils.js
.\src\services\cupo\mirrorTicketsUyUpsert.js
.\src\services\forecast\forecastMetaService.js
.\src\services\lineItems\cloneSanitizerService.js
.\src\services\lineItems\syncAfterPromotion.js
.\src\services\tickets\manualTicketService.js
.\src\services\tickets\snapshotService.js
.\src\services\tickets\ticketCleanupService.js
.\src\services\tickets\ticketService.js
.\src\services\tickets\ticketUpdateService.js
.\src\utils\calculateCupoEstado.js
.\src\utils\dateDebugs.js
.\src\utils\dateUtils.js
.\src\utils\hubspotErrorCollector.js
.\src\utils\invoiceKey.js
.\src\utils\invoiceValidation.js
.\src\utils\lineItemKey.js
.\src\utils\parsers.js
.\src\utils\propertyHelpers.js
.\src\utils\resolveNextBillingDate.js
.\src\utils\resolvePlanYMD.js
.\src\utils\ticketKey.js
.\src\__tests__\invoiceValidation.js
.\src\__tests__\ticketKeyIdempotency.js
